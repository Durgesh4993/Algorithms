void morris_inorder(struct node *root) {
  struct node *current = root;
  while (current != NULL) {
    if (current->left == NULL) {
      printf("%d ", current->data);
      current = current->right;
    } else {
      /* Find the inorder predecessor of current */
      struct node *predecessor = current->left;
      while (predecessor->right != NULL && predecessor->right != current) {
        predecessor = predecessor->right;
      }

      /* Make current as right child of its inorder predecessor */
      if (predecessor->right == NULL) {
        predecessor->right = current;
        current = current->left;
      } else {
        /* Revert the changes made in if part to restore the original
           tree i.e., fix the right child of predecssor */
        predecessor->right = NULL;
        printf("%d ", current->data);
        current = current->right;
      }
    }
  }
}
